# Plan de D√©veloppement - Outil de Visualisation Organisationnelle

## üéØ Objectif du plan

Ce plan d√©coupe le d√©veloppement du MVP en **lots incr√©mentaux** permettant :
- Des livrables testables √† chaque √©tape
- Un d√©veloppement progressif sans blocage
- Une validation continue des fonctionnalit√©s
- Une base solide pour les √©volutions futures

---

## üì¶ Lots de d√©veloppement

### **Lot 0 : Setup & Architecture** 
**Dur√©e estim√©e** : 0.5-1 jour  
**Priorit√©** : üî¥ Critique

#### Objectifs
- Initialiser le projet avec une structure propre
- Mettre en place l'environnement de d√©veloppement
- D√©finir l'architecture technique

#### T√¢ches
1. **Setup projet**
   - Initialiser le projet (Vite + React ou HTML/JS selon choix)
   - Configuration ESLint + Prettier
   - Structure de dossiers
   - README initial avec instructions de setup

2. **Architecture de base**
   - D√©finir la structure des composants
   - Setup du syst√®me de design (variables CSS, couleurs)
   - Configuration du build

3. **√âtat initial**
   - Setup du state management (React Context ou simple √©tat local)
   - Structure du data model (types/interfaces)

#### Crit√®res d'acceptation
- ‚úÖ Projet buildable et lan√ßable en dev
- ‚úÖ Structure de dossiers claire et document√©e
- ‚úÖ Variables de design (couleurs m√©tiers) d√©finies
- ‚úÖ Hot reload fonctionnel

#### Livrables
- Repo GitHub avec structure de base
- Documentation de setup dans README
- Syst√®me de design initialis√©

---

### **Lot 1 : Data Model & Mock Data**
**Dur√©e estim√©e** : 1 jour  
**Priorit√©** : üî¥ Critique  
**D√©pendances** : Lot 0

#### Objectifs
- Impl√©menter le mod√®le de donn√©es complet
- Cr√©er un jeu de donn√©es de test r√©aliste
- Mettre en place le syst√®me de stockage

#### T√¢ches
1. **Data Model**
   - Cr√©er les types/interfaces pour Developer, Manager, Director, Squad, Train, RTE
   - Cr√©er les utilitaires de manipulation des donn√©es
   - Validation des donn√©es (fonctions de validation)

2. **Mock Data**
   - Cr√©er un dataset de test avec :
     - 1 directeur
     - 6 managers (Cloud x2, Mobile x2, Embarqu√©, Test auto, Infra)
     - 40-50 d√©veloppeurs r√©partis
     - 8 squads
     - 1 RTE
   - Donn√©es coh√©rentes (relations manager/dev, squad/membres)

3. **Stockage local**
   - Impl√©mentation LocalStorage ou IndexedDB
   - Fonctions CRUD de base (Create, Read, Update, Delete)
   - Initialisation avec mock data

#### Crit√®res d'acceptation
- ‚úÖ Mod√®le de donn√©es complet et typ√©
- ‚úÖ Dataset de test charg√© au premier lancement
- ‚úÖ Donn√©es persist√©es en local
- ‚úÖ Fonctions CRUD testables manuellement (via console)

#### Livrables
- Fichier de types/interfaces
- Mock data generator
- Syst√®me de persistance fonctionnel

---

### **Lot 2 : Composant Carte D√©veloppeur**
**Dur√©e estim√©e** : 1-1.5 jours  
**Priorit√©** : üî¥ Critique  
**D√©pendances** : Lot 1

#### Objectifs
- Cr√©er le composant de base (carte d√©veloppeur)
- Impl√©menter le syst√®me visuel (couleurs, pictogrammes)
- Rendre le composant r√©utilisable et configurable

#### T√¢ches
1. **Composant de base**
   - Cr√©er le composant `DeveloperCard`
   - Props : developer data, position (x, y), afficher s√©niorit√© (boolean)
   - Styling moderne selon les specs du PRD

2. **Syst√®me visuel**
   - Barre de couleur m√©tier (vertical, 3px, gauche)
   - Pictogrammes L, T, S selon les r√¥les
   - Gestion du nom des managers en couleur
   - Tooltip au hover montrant le m√©tier

3. **Interactions**
   - Hover effects (√©l√©vation, scale)
   - Click handler (pr√©paration pour √©dition future)
   - Animations subtiles

4. **Variants**
   - Carte d√©veloppeur standard
   - Carte manager (nom en couleur, badge optionnel)
   - Carte directeur

#### Crit√®res d'acceptation
- ‚úÖ Carte s'affiche correctement avec toutes les informations
- ‚úÖ Barre de couleur correspond au m√©tier
- ‚úÖ Pictogrammes affich√©s selon les r√¥les
- ‚úÖ Hover effects fluides
- ‚úÖ Design conforme au PRD (moderne, √©pur√©)
- ‚úÖ Responsive (adapt√© pour desktop et tablette)

#### Livrables
- Composant `DeveloperCard` r√©utilisable
- Storybook ou page de d√©mo montrant toutes les variantes
- Documentation du composant

---

### **Lot 3 : Vue Hi√©rarchique (Layout statique)**
**Dur√©e estim√©e** : 1.5-2 jours  
**Priorit√©** : üî¥ Critique  
**D√©pendances** : Lot 2

#### Objectifs
- Impl√©menter la vue hi√©rarchique compl√®te
- Calculer les positions des cartes automatiquement
- Afficher les connexions hi√©rarchiques

#### T√¢ches
1. **Layout hi√©rarchique**
   - Algorithme de positionnement des cartes en arbre
   - 3 niveaux : Directeur (niveau 0) ‚Üí Managers (niveau 1) ‚Üí Devs (niveau 2)
   - Espacement et centrage automatiques
   - Gestion de plusieurs managers par m√©tier

2. **Connexions visuelles**
   - Lignes reliant les niveaux hi√©rarchiques
   - Rendu SVG ou divs positionn√©es
   - Style subtil (lignes fines, couleur neutre)

3. **Composant container**
   - `HierarchicalView` component
   - Utilise `DeveloperCard` pour chaque personne
   - Calcul des positions bas√© sur les donn√©es
   - Gestion du viewport (scroll si n√©cessaire)

4. **Responsive**
   - Adaptation pour √©crans moyens
   - Scroll vertical si trop de d√©veloppeurs

#### Crit√®res d'acceptation
- ‚úÖ Tous les d√©veloppeurs du mock data affich√©s
- ‚úÖ Organisation en 3 niveaux claire
- ‚úÖ M√©tiers regroup√©s par manager
- ‚úÖ Plusieurs managers du m√™me m√©tier g√©r√©s correctement
- ‚úÖ Connexions hi√©rarchiques visibles
- ‚úÖ Pas de chevauchement de cartes
- ‚úÖ Layout esth√©tique et √©quilibr√©

#### Livrables
- Composant `HierarchicalView`
- Algorithme de layout document√©
- Vue fonctionnelle avec mock data

---

### **Lot 4 : Vue Fonctionnelle (Layout statique)**
**Dur√©e estim√©e** : 1.5-2 jours  
**Priorit√©** : üî¥ Critique  
**D√©pendances** : Lot 2

#### Objectifs
- Impl√©menter la vue fonctionnelle (squads)
- G√©rer la disposition adaptative (rang√©e unique vs grille)
- Afficher le RTE et les squads

#### T√¢ches
1. **Layout des squads**
   - Algorithme de disposition :
     - Si ‚â§ 8 squads ‚Üí rang√©e unique
     - Si > 8 squads ‚Üí grille multi-rang√©es (calcul automatique)
   - Chaque squad = container avec nom + cartes d√©veloppeurs
   - Espacement et alignement

2. **Composant Squad**
   - `SquadContainer` component
   - Header avec nom de la squad (√©ditable en V2, statique pour MVP)
   - Liste des d√©veloppeurs membres
   - Style : border subtil, background l√©g√®rement diff√©rent

3. **RTE Header**
   - Label "RTE: [Nom] - Train Cantal" au-dessus des squads
   - Style moderne et discret

4. **Composant container**
   - `FunctionalView` component
   - Utilise `SquadContainer` et `DeveloperCard`
   - Calcul automatique de la grille selon nombre de squads
   - Gestion du viewport

#### Crit√®res d'acceptation
- ‚úÖ Toutes les squads du mock data affich√©es
- ‚úÖ D√©veloppeurs group√©s correctement par squad
- ‚úÖ Disposition adaptative (rang√©e vs grille) fonctionnelle
- ‚úÖ RTE visible au-dessus avec nom du train
- ‚úÖ Noms des squads affich√©s
- ‚úÖ Layout esth√©tique et √©quilibr√©
- ‚úÖ Pas de scroll horizontal

#### Livrables
- Composant `FunctionalView`
- Composant `SquadContainer`
- Algorithme de layout adaptatif document√©

---

### **Lot 5 : Morphing Animation**
**Dur√©e estim√©e** : 2-3 jours  
**Priorit√©** : üü† Haute  
**D√©pendances** : Lot 3, Lot 4

#### Objectifs
- Impl√©menter l'animation de morphing entre les deux vues
- Transitions fluides √† 60fps
- Gestion de l'√©tat de la vue active

#### T√¢ches
1. **Syst√®me de transition**
   - Calcul des positions initiales et finales pour chaque carte
   - Interpolation smooth entre les deux √©tats
   - Timing : 0.8-1s avec easing naturel (cubic-bezier)
   - Utilisation de CSS transitions ou animations JS (GSAP, Framer Motion, ou web animations API)

2. **Gestion des connexions**
   - Fade out des connexions hi√©rarchiques
   - Fade in des groupements de squads
   - Timing coordonn√© avec le mouvement des cartes

3. **State management**
   - √âtat global : `isHierarchical` (boolean)
   - Fonction `toggleView()` qui d√©clenche le morphing
   - M√©morisation de la vue active

4. **Optimisation performance**
   - Utilisation de `transform` et `opacity` (GPU-accelerated)
   - `will-change` pour pr√©parer les animations
   - Debouncing si n√©cessaire

#### Crit√®res d'acceptation
- ‚úÖ Animation fluide √† 60fps
- ‚úÖ Toutes les cartes se d√©placent correctement
- ‚úÖ Dur√©e de ~1s, sensation naturelle
- ‚úÖ Connexions apparaissent/disparaissent avec timing appropri√©
- ‚úÖ Pas de lag ou de saccades
- ‚úÖ Bouton de toggle fonctionnel et responsive

#### Livrables
- Syst√®me de morphing complet
- Documentation de l'impl√©mentation
- Tests de performance

---

### **Lot 6 : Navigation & UI Controls**
**Dur√©e estim√©e** : 1 jour  
**Priorit√©** : üü† Haute  
**D√©pendances** : Lot 5

#### Objectifs
- Cr√©er l'interface de contr√¥le principale
- Bouton de bascule de vue
- Toggle d'affichage de la s√©niorit√©

#### T√¢ches
1. **Header/Controls bar**
   - Zone de contr√¥les en haut de la page
   - Design moderne, √©pur√©
   - Sticky ou fixe selon le choix

2. **Bouton de bascule de vue**
   - Bouton principal "Vue Hi√©rarchique / Vue Fonctionnelle"
   - Indicateur de la vue active
   - Animation du bouton au clic
   - Keyboard accessible (Enter/Space)

3. **Toggle s√©niorit√©**
   - Switch/Toggle pour afficher/masquer les niveaux
   - √âtat m√©moris√© en local
   - Application imm√©diate sur toutes les cartes

4. **Indicateurs visuels**
   - Titre de la page avec mode actuel
   - Breadcrumb ou indicateur subtil

#### Crit√®res d'acceptation
- ‚úÖ Bouton de bascule bien visible et accessible
- ‚úÖ Toggle s√©niorit√© fonctionnel
- ‚úÖ √âtats m√©moris√©s pendant la session
- ‚úÖ Design coh√©rent avec le reste de l'app
- ‚úÖ Responsive (adapt√© mobile/tablette)

#### Livrables
- Composant `ControlsBar`
- Composant `ViewToggle`
- Composant `SeniorityToggle`

---

### **Lot 7 : Export CSV**
**Dur√©e estim√©e** : 1-1.5 jours  
**Priorit√©** : üü† Haute  
**D√©pendances** : Lot 1

#### Objectifs
- Impl√©menter l'export CSV des donn√©es
- G√©n√©rer un template vide pour premi√®re utilisation
- Format standardis√© et compatible Excel

#### T√¢ches
1. **Export des donn√©es actuelles**
   - Bouton "Exporter CSV"
   - Transformation des donn√©es en format CSV
   - Headers : Nom, Pr√©nom, M√©tier, S√©niorit√©, LeadDev, TechLead, ScrumMaster, Manager, Squad
   - G√©n√©ration du fichier et t√©l√©chargement

2. **Export template vide**
   - Bouton "Exporter Template CSV"
   - Fichier avec headers + 2-3 lignes d'exemple comment√©es
   - Instructions dans les premi√®res lignes (commentaires CSV)

3. **Utilitaires**
   - Fonction de s√©rialisation des donn√©es
   - Fonction de g√©n√©ration de CSV conforme
   - Gestion des caract√®res sp√©ciaux et encodage UTF-8

4. **UI**
   - Boutons dans la barre de contr√¥les
   - Feedback visuel au t√©l√©chargement (toast ou notification)

#### Crit√®res d'acceptation
- ‚úÖ Export CSV contient toutes les donn√©es actuelles
- ‚úÖ Format CSV valide et lisible dans Excel/Numbers
- ‚úÖ Template vide avec headers et exemples
- ‚úÖ Encodage UTF-8 pr√©serv√© (caract√®res accentu√©s)
- ‚úÖ Nom de fichier avec timestamp (ex: org_export_2025-10-07.csv)

#### Livrables
- Fonction `exportToCSV()`
- Fonction `exportTemplateCSV()`
- Boutons dans l'UI

---

### **Lot 8 : Import CSV**
**Dur√©e estim√©e** : 2-2.5 jours  
**Priorit√©** : üü† Haute  
**D√©pendances** : Lot 1, Lot 7

#### Objectifs
- Impl√©menter l'import CSV
- Validation robuste des donn√©es
- Gestion des erreurs avec messages clairs

#### T√¢ches
1. **Parsing CSV**
   - Bouton "Importer CSV" avec file picker
   - Parsing du fichier (librairie PapaParse ou native)
   - D√©tection de l'encodage

2. **Validation des donn√©es**
   - V√©rification des headers obligatoires
   - Validation ligne par ligne :
     - M√©tier valide (dans la liste autoris√©e)
     - S√©niorit√© valide (1-4)
     - R√¥les valides (Oui/Non)
     - Manager existe (si sp√©cifi√©)
     - Squad existe (si sp√©cifi√©)
   - Collection des erreurs avec num√©ros de ligne

3. **Traitement des donn√©es**
   - Cr√©ation/mise √† jour des entit√©s
   - Gestion des relations (N-1 manager, squad)
   - D√©tection des changements (ajouts, modifs, suppressions)

4. **UI de feedback**
   - Modal de confirmation avant import
   - Affichage du r√©sum√© : X ajouts, Y modifications, Z erreurs
   - Liste des erreurs avec num√©ros de ligne si probl√®mes
   - Possibilit√© d'annuler

5. **Post-import**
   - Sauvegarde en local
   - Mise √† jour de la vue active
   - Toast de succ√®s

#### Crit√®res d'acceptation
- ‚úÖ Import CSV fonctionnel avec donn√©es valides
- ‚úÖ Validation robuste avec messages d'erreur clairs
- ‚úÖ Gestion des erreurs sans crash
- ‚úÖ R√©sum√© des changements avant application
- ‚úÖ Donn√©es correctement persist√©es
- ‚úÖ Vues mises √† jour apr√®s import

#### Livrables
- Fonction `importFromCSV()`
- Module de validation
- UI d'import avec feedback

---

### **Lot 9 : √âdition In-App (Basique)**
**Dur√©e estim√©e** : 2-3 jours  
**Priorit√©** : üü° Moyenne  
**D√©pendances** : Lot 1, Lot 2

#### Objectifs
- Permettre l'√©dition basique des donn√©es dans l'interface
- Ajout/modification/suppression de d√©veloppeurs
- Interface simple et fonctionnelle (pas de drag & drop)

#### T√¢ches
1. **Formulaire d√©veloppeur**
   - Modal/Sidebar avec formulaire
   - Champs : Nom, Pr√©nom, M√©tier (select), S√©niorit√© (1-4), R√¥les (checkboxes), Manager (select), Squad (select)
   - Validation c√¥t√© client
   - Actions : Sauvegarder, Annuler

2. **Actions CRUD**
   - Bouton "Ajouter un d√©veloppeur" dans les contr√¥les
   - Clic sur une carte ‚Üí √âdition
   - Bouton supprimer (avec confirmation)
   - Mise √† jour imm√©diate des vues

3. **Gestion des managers et squads**
   - Formulaire similaire pour ajouter/√©diter managers
   - Formulaire pour cr√©er/renommer squads
   - Gestion du directeur (√©dition nom)

4. **Persistance**
   - Sauvegarde automatique en local apr√®s chaque modification

#### Crit√®res d'acceptation
- ‚úÖ Ajout de d√©veloppeur fonctionnel
- ‚úÖ √âdition d'un d√©veloppeur existant fonctionnelle
- ‚úÖ Suppression avec confirmation
- ‚úÖ Validation des donn√©es saisies
- ‚úÖ Vues mises √† jour imm√©diatement
- ‚úÖ Donn√©es persist√©es en local

#### Livrables
- Composant `DeveloperForm`
- Modal/Sidebar d'√©dition
- Fonctions CRUD dans l'UI

---

### **Lot 10 : Polish & Responsive**
**Dur√©e estim√©e** : 1.5-2 jours  
**Priorit√©** : üü° Moyenne  
**D√©pendances** : Tous les lots pr√©c√©dents

#### Objectifs
- Finaliser le design et l'exp√©rience utilisateur
- Optimiser le responsive (mobile/tablette)
- Corriger les bugs visuels

#### T√¢ches
1. **Design polish**
   - Revoir tous les espacements, paddings, margins
   - Affiner les couleurs et contrastes
   - Micro-animations additionnelles (loading states, etc.)
   - Hover states coh√©rents partout

2. **Responsive**
   - Adaptation mobile (cartes plus petites, layout vertical)
   - Adaptation tablette (grille optimis√©e)
   - Menu hamburger si n√©cessaire
   - Gestion du morphing sur petit √©cran

3. **Performance**
   - Optimisation du rendering (React.memo, virtualization si n√©cessaire)
   - Lazy loading si applicable
   - R√©duction de la taille du bundle

4. **Accessibilit√©**
   - Contraste WCAG AA minimum
   - Navigation au clavier compl√®te
   - Screen reader friendly (ARIA labels)
   - Focus indicators visibles

5. **Error handling**
   - Messages d'erreur user-friendly
   - √âtats de chargement (spinners, skeletons)
   - Gestion des cas limites

#### Crit√®res d'acceptation
- ‚úÖ Design coh√©rent et moderne sur tous les √©crans
- ‚úÖ Responsive de 320px √† 1920px+
- ‚úÖ Animations fluides sur tous les devices
- ‚úÖ Performance optimale (Lighthouse > 90)
- ‚úÖ Accessibilit√© WCAG AA
- ‚úÖ Pas de bug visuel majeur

#### Livrables
- Application finalis√©e et polie
- Documentation des optimisations
- Tests sur diff√©rents devices/navigateurs

---

### **Lot 11 : Documentation & Tests**
**Dur√©e estim√©e** : 1-1.5 jours  
**Priorit√©** : üü° Moyenne  
**D√©pendances** : Lot 10

#### Objectifs
- Documenter le code et l'architecture
- Tests de base (manuels ou automatis√©s selon le temps)
- Guide utilisateur

#### T√¢ches
1. **Documentation technique**
   - README complet :
     - Description du projet
     - Installation et setup
     - Scripts disponibles
     - Architecture et structure
   - Commentaires dans le code (fonctions complexes)
   - Documentation des composants principaux

2. **Guide utilisateur**
   - Documentation dans l'app (tooltip, help, etc.) ou fichier s√©par√©
   - Workflow : Import CSV ‚Üí Visualisation ‚Üí √âdition ‚Üí Export
   - FAQ basique

3. **Tests manuels**
   - Checklist de test de tous les user flows
   - Tests sur diff√©rents navigateurs
   - Tests avec datasets de tailles vari√©es (10 devs, 50 devs, 100+ devs)

4. **Tests automatis√©s (optionnel selon temps)**
   - Tests unitaires des fonctions critiques (validation, parsing)
   - Tests d'int√©gration basiques

#### Crit√®res d'acceptation
- ‚úÖ README complet et √† jour
- ‚úÖ Code comment√© pour les parties complexes
- ‚úÖ Guide utilisateur disponible
- ‚úÖ Checklist de test compl√®te et valid√©e
- ‚úÖ Application test√©e sur Chrome, Firefox, Safari

#### Livrables
- Documentation compl√®te
- Checklist de test
- Guide utilisateur

---

## üìä R√©sum√© et Dur√©e Totale

| Lot | Nom | Dur√©e estim√©e | Priorit√© |
|-----|-----|---------------|----------|
| 0 | Setup & Architecture | 0.5-1 jour | üî¥ Critique |
| 1 | Data Model & Mock Data | 1 jour | üî¥ Critique |
| 2 | Composant Carte D√©veloppeur | 1-1.5 jours | üî¥ Critique |
| 3 | Vue Hi√©rarchique | 1.5-2 jours | üî¥ Critique |
| 4 | Vue Fonctionnelle | 1.5-2 jours | üî¥ Critique |
| 5 | Morphing Animation | 2-3 jours | üü† Haute |
| 6 | Navigation & UI Controls | 1 jour | üü† Haute |
| 7 | Export CSV | 1-1.5 jours | üü† Haute |
| 8 | Import CSV | 2-2.5 jours | üü† Haute |
| 9 | √âdition In-App | 2-3 jours | üü° Moyenne |
| 10 | Polish & Responsive | 1.5-2 jours | üü° Moyenne |
| 11 | Documentation & Tests | 1-1.5 jours | üü° Moyenne |

**Dur√©e totale estim√©e** : 16-23 jours (selon complexit√© et impr√©vus)

---

## üéØ Strat√©gie de d√©veloppement

### Approche recommand√©e

**Phase 1 : Fondations (Lots 0-2)** 
√âtablir les bases solides : setup, data, composants de base.  
**Objectif** : Avoir des cartes d√©veloppeurs affichables.

**Phase 2 : Visualisations (Lots 3-4)**
Cr√©er les deux vues statiques.  
**Objectif** : Voir les deux organisations compl√®tes.

**Phase 3 : Morphing (Lot 5)**
Impl√©menter la feature centrale : l'animation de transition.  
**Objectif** : Transition fluide entre les vues.

**Phase 4 : Interactions (Lots 6-9)**
Ajouter les contr√¥les, import/export, √©dition.  
**Objectif** : Application fonctionnelle et utilisable.

**Phase 5 : Finitions (Lots 10-11)**
Polish, responsive, documentation.  
**Objectif** : Produit finalis√© et livrable.

### Points d'attention

‚ö†Ô∏è **Le morphing (Lot 5)** est la feature la plus complexe techniquement. Pr√©voir du temps de test et d'ajustement.

‚ö†Ô∏è **L'import CSV (Lot 8)** n√©cessite une validation robuste. Ne pas sous-estimer les cas limites.

‚ö†Ô∏è **Le responsive (Lot 10)** peut r√©v√©ler des probl√®mes d'architecture. Tester r√©guli√®rement sur mobile pendant le dev.

### Validation continue

Apr√®s chaque lot :
- ‚úÖ Test manuel des fonctionnalit√©s d√©velopp√©es
- ‚úÖ Commit et push sur GitHub
- ‚úÖ Validation avec le product owner (toi)
- ‚úÖ Ajustements si n√©cessaire avant de passer au lot suivant

---

## üöÄ Prochaines √©tapes

1. **Cr√©er le repo GitHub** ‚úÖ (en cours)
2. **R√©diger les guidelines techniques** ‚Üí Prochaine √©tape
3. **Commencer le Lot 0** avec Claude Code
4. **D√©veloppement it√©ratif** lot par lot

---

**Version** : 1.0  
**Date** : Octobre 2025  
**Statut** : Plan initial